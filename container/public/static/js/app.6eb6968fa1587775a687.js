webpackJsonp([1],{"+3d2":function(t,e){},"3qNp":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},n,!1,function(t){a("wC4V")},null,null).exports,s=a("/ocq"),o={name:"my-header",data:function(){return{show:!1,keywords:""}},methods:{onSubmit:function(){console.log("submit"),this.$emit("search",{value:this.keywords})},backToHome:function(){this.$router.push("mainpage")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"header"},[a("el-col",{attrs:{span:3}},[a("span",{staticClass:"logo",on:{click:t.backToHome}},[t._v("OASIS")])]),t._v(" "),a("el-col",{staticClass:"search",attrs:{span:7}},[a("i",{staticClass:"el-icon-search",on:{click:function(e){t.show=!t.show}}}),t._v(" "),a("transition",{attrs:{name:"slide-fade"}},[t.show?a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.keywords},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)},input:function(e){e.target.composing||(t.keywords=e.target.value)}}}):t._e()])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,c,!1,function(t){a("3qNp")},"data-v-3fad29d4",null).exports,h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-bar"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.searchCon,callback:function(e){t.searchCon=e},expression:"searchCon"}},[a("el-select",{staticClass:"search-pre",attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[a("el-option",{attrs:{label:"All",value:"all"}}),t._v(" "),a("el-option",{attrs:{label:"Title",value:"title"}}),t._v(" "),a("el-option",{attrs:{label:"Author",value:"authors"}}),t._v(" "),a("el-option",{attrs:{label:"Conference",value:"conferences"}}),t._v(" "),a("el-option",{attrs:{label:"Terms",value:"terms"}}),t._v(" "),a("el-option",{attrs:{label:"Affiliation",value:"affiliations"}})],1),t._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.submit},slot:"append"})],1)],1)},staticRenderFns:[]};var u=a("VU/8")({name:"search-bar",data:function(){return{searchType:"All",searchCon:""}},methods:{submit:function(){""===this.searchCon.trim()?this.$message({message:"请输入要搜索的关键字",type:"warning"}):this.$emit("paperSearch",{type:this.searchType,con:this.searchCon})}}},h,!1,function(t){a("Tcjj")},null,null).exports,d={name:"HelloWorld",components:{MyHeader:l,searchBar:u},data:function(){return{num:1}},methods:{search:function(t){console.log(t)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("MyHeader",{on:{search:t.search}}),t._v(" "),a("el-row",{staticClass:"link"},[a("el-link",{attrs:{href:"http://localhost:8080/#/mainpage",type:"primary"}},[t._v("主页")]),t._v(" "),a("el-link",{attrs:{href:"http://localhost:8080/#/ranking",type:"primary"}},[t._v("数据报表")]),t._v(" "),a("el-link",{attrs:{href:"http://localhost:8080/#/result",type:"primary"}},[t._v("搜索结果")])],1),t._v(" "),a("searchBar",{staticClass:"bar"})],1)},staticRenderFns:[]};a("VU/8")(d,p,!1,function(t){a("wlu6")},"data-v-e52c1e9a",null).exports;var m=new r.default,f={name:"MainPage",components:{SearchBar:u},data:function(){return{nav_list:["Ranking","TODO1","TODO2"],current:0,pic_one:!0,pic_two:!1,pic_three:!1,search_val:""}},beforeDestroy:function(){var t=this.search_val;m.$emit("fuzzySearch",t)},methods:{enter:function(t){this.current=t,0==t?(this.pic_one=!0,this.pic_two=!1,this.pic_three=!1):1==t?(this.pic_two=!0,this.pic_three=!1,this.pic_one=!1):(this.pic_three=!0,this.pic_one=!1,this.pic_two=!1)},detail:function(t){0==t?(console.log("jump to rank"),this.$router.push({path:"/ranking"})):console.log("to do")},search:function(t){this.search_val=t,this.$router.push("result")}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("div",{attrs:{id:"search"}},[a("div",{staticClass:"overlay"},[a("div",{staticClass:"o-content"},[a("h1",{staticClass:"title"},[t._v("\n            OASIS\n          ")]),t._v(" "),a("div",{attrs:{id:"tips"}},[t._v("\n            —— ——CONNECTING THE KNOWLEDGE—— ——\n          ")]),t._v(" "),a("div",{staticClass:"bar"},[a("SearchBar",{on:{paperSearch:t.search}})],1)])])]),t._v(" "),a("el-row",{staticClass:"show"},[a("el-col",{attrs:{span:6,offset:2}},[a("div",{staticClass:"link-tab"},[a("ul",{staticClass:"tab-list"},t._l(t.nav_list,function(e,r){return a("li",{key:r,staticClass:"tab-list-item",class:{active:r==t.current},on:{mouseenter:function(e){return t.enter(r)},click:function(e){return t.detail(r)}}},[a("el-link",{attrs:{underline:!1}},[t._v(t._s(e))])],1)}),0)])]),t._v(" "),a("el-col",{attrs:{span:14,offset:2}},[a("div",{staticClass:"link-content"},[a("div",{class:{imgActive:t.pic_one},attrs:{id:"content-item-one"}},[a("el-image",{staticClass:"img-item",attrs:{src:"/static/mainpage/charts.jpg",alt:"ooops",lazy:""},on:{click:function(e){return t.detail(0)},mouseenter:function(e){return t.enter(0)}}})],1),t._v(" "),a("div",{class:{imgActive:t.pic_two},attrs:{id:"content-item-two"}},[a("el-image",{staticClass:"img-item",attrs:{src:"/static/mainpage/TODO1.png",alt:"ooops",lazy:""},on:{click:function(e){return t.detail(1)},mouseenter:function(e){return t.enter(1)}}})],1),t._v(" "),a("div",{class:{imgActive:t.pic_three},attrs:{id:"content-item-three"}},[a("el-image",{staticClass:"img-item",attrs:{src:"/static/mainpage/TODO2.png",alt:"ooops",lazy:""},on:{click:function(e){return t.detail(2)},mouseenter:function(e){return t.enter(2)}}})],1)])])],1)],1)},staticRenderFns:[]};var _=a("VU/8")(f,v,!1,function(t){a("lgON")},"data-v-705ad3f0",null).exports,g={name:"essay-search-result-card",props:{title:String,authors:String,conference:String,year:String,times:String,essayLink:String,terms:String,affiliation:String},data:function(){return{showAllTerms:!1}},methods:{toggleShowAllTerms:function(){this.showAllTerms=!this.showAllTerms}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("div",{staticClass:"title"},[a("a",{attrs:{href:t.essayLink}},[t._v(t._s(t.title))])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{attrs:{id:"author"}},[a("span",{staticClass:"sub-title"},[t._v("Authors: ")]),t._v(t._s(t.authors))]),t._v(" "),a("div",[a("span",{staticClass:"sub-title"},[t._v("Conference: ")]),t._v(t._s(t.conference))]),t._v(" "),a("div",[a("span",{staticClass:"sub-title"},[t._v("Year: ")]),t._v(t._s(t.year)+" | Conference Paper")]),t._v(" "),a("div",[a("span",{staticClass:"sub-title"},[t._v("Affiliation: ")]),t._v(t._s(t.affiliation))]),t._v(" "),a("div",[a("span",{staticClass:"sub-title"},[t._v("Cited by: ")]),t._v("Papers ("+t._s(t.times)+")")]),t._v(" "),a("div",[a("span",{staticClass:"sub-title sub-title-terms",on:{click:t.toggleShowAllTerms}},[t._v("Terms:")]),t._v(" "),t.showAllTerms?t._e():a("span",{staticClass:"sub-title-terms",on:{click:t.toggleShowAllTerms}},[t._v("\n        ...\n      ")]),t._v(" "),t.showAllTerms?a("span",{staticClass:"sub-title-terms",on:{click:t.toggleShowAllTerms}},[t._v("\n        "+t._s(t.terms)+"\n      ")]):t._e()])])])},staticRenderFns:[]};var C=a("VU/8")(g,y,!1,function(t){a("ZhRt")},"data-v-26a7c63e",null).exports,k={name:"side-bar",components:{search:u},props:{authorSummary:Array,affiliationSummary:Array,termSummary:Array,conferenceSummary:Array},watch:{authorSummary:function(){this.setValuesToDefault()},affiliationSummary:function(){this.setValuesToDefault()},termSummary:function(){this.setValuesToDefault()},conferenceSummary:function(){this.setValuesToDefault()}},data:function(){return{searchWithinChecked:!1,yearChecked:!1,authorChecked:!1,affiliationChecked:!1,conferenceChecked:!1,termChecked:!1,authorSummaryCheck:Array(this.authorSummary.length).fill(!1),affiliationSummaryCheck:Array(this.affiliationSummary.length).fill(!1),termSummaryCheck:Array(this.termSummary.length).fill(!1),conferenceSummaryCheck:Array(this.conferenceSummary.length).fill(!1),startYear:"",endYear:"",activeNames:[],searchWithinQuery:{conference:"",term:"",author:"",year:"",affiliation:""}}},created:function(){this.setValuesToDefault()},methods:{checkYear:function(t){this.yearChecked=!0},handleChange:function(t){},searchVal:function(t){this.$emit("advancedSearch",t)},getYearFromDatePick:function(t){return t.toString().indexOf(" ")<0?t.toString():t.toString().split(" ")[3]},showOK:function(t,e){var a=!1;return t.forEach(function(t){a=a||t}),"author"==e.toString()?this.authorChecked=a:"conference"==e.toString()?this.conferenceChecked=a:"affiliation"==e.toString()?this.affiliationChecked=a:"term"==e.toString()&&(this.termChecked=a),a},collectSearchWithin:function(){var t=this;if(this.yearChecked&&(this.searchWithinQuery.year=this.getYearFromDatePick(this.startYear)+"_"+this.getYearFromDatePick(this.endYear)),this.authorChecked){var e="";this.authorSummaryCheck.forEach(function(a,r){a&&(e+=t.authorSummary[r].first+";")}),this.searchWithinQuery.author=e}if(this.conferenceChecked){var a="";this.conferenceSummaryCheck.forEach(function(e,r){e&&(a+=t.conferenceSummary[r].first+";")}),this.searchWithinQuery.conference=a}if(this.affiliationChecked){var r="";this.affiliationSummaryCheck.forEach(function(e,a){e&&(r+=t.affiliationSummary[a].first+";")}),this.searchWithinQuery.affiliation=r}if(this.termChecked){var n="";this.termSummaryCheck.forEach(function(e,a){e&&(n+=t.termSummary[a].first+";")}),this.searchWithinQuery.term=n}this.$emit("searchWithin",this.searchWithinQuery)},setValuesToDefault:function(){var t=new Date;this.startYear=t.getFullYear().toString(),this.endYear=t.getFullYear().toString(),this.authorSummaryCheck.fill(!1),this.conferenceSummaryCheck.fill(!1),this.affiliationSummaryCheck.fill(!1),this.termSummaryCheck.fill(!1),this.yearChecked=!1,this.authorChecked=!1,this.affiliationChecked=!1,this.conferenceChecked=!1,this.termChecked=!1}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-bar"},[a("div",{staticClass:"date-pick"},[a("div",{staticClass:"indicator"},[t._v("Year pick")]),t._v(" "),a("div",{staticClass:"year-pick start-year"},[a("el-date-picker",{attrs:{type:"year",placeholder:"Start"},on:{change:function(e){return t.checkYear(e)}},model:{value:t.startYear,callback:function(e){t.startYear=e},expression:"startYear"}})],1),t._v(" "),a("div",{staticClass:"year-pick end-year"},[a("el-date-picker",{attrs:{type:"year",placeholder:"End"},on:{change:function(e){return t.checkYear(e)}},model:{value:t.endYear,callback:function(e){t.endYear=e},expression:"endYear"}})],1),t._v(" "),""!=t.startYear||""!=t.endYear?a("div",{staticClass:"apply-button"},[a("el-button",{attrs:{round:""},on:{click:t.collectSearchWithin}},[t._v("\n        OK\n      ")])],1):t._e()]),t._v(" "),a("div",{staticClass:"category-select"},[a("el-collapse",{on:{change:t.handleChange},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"Author",name:"1"}},[t._l(t.authorSummary,function(e,r){return a("div",{key:r},[a("el-checkbox",{staticClass:"check-box",model:{value:t.authorSummaryCheck[r],callback:function(e){t.$set(t.authorSummaryCheck,r,e)},expression:"authorSummaryCheck[index]"}},[t._v("\n            "+t._s(e.first)+"("+t._s(e.second)+")\n          ")])],1)}),t._v(" "),a("div",{staticClass:"apply-button"},[t.showOK(t.authorSummaryCheck,"author")?a("el-button",{attrs:{round:""},on:{click:t.collectSearchWithin}},[t._v("\n            OK\n          ")]):t._e()],1)],2),t._v(" "),a("el-collapse-item",{attrs:{title:"Conference",name:"2"}},[t._l(t.conferenceSummary,function(e,r){return a("div",{key:r},[a("el-checkbox",{staticClass:"check-box",model:{value:t.conferenceSummaryCheck[r],callback:function(e){t.$set(t.conferenceSummaryCheck,r,e)},expression:"conferenceSummaryCheck[index]"}},[t._v("\n            "+t._s(e.first)+"("+t._s(e.second)+")\n          ")])],1)}),t._v(" "),a("div",{staticClass:"apply-button"},[t.showOK(t.conferenceSummaryCheck,"conference")?a("el-button",{attrs:{round:""},on:{click:t.collectSearchWithin}},[t._v("\n            OK\n          ")]):t._e()],1)],2),t._v(" "),a("el-collapse-item",{attrs:{title:"Affiliation",name:"3"}},[t._l(t.affiliationSummary,function(e,r){return a("div",{key:r},[a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.first))]),t._v(" "),a("el-checkbox",{staticClass:"check-box",model:{value:t.affiliationSummaryCheck[r],callback:function(e){t.$set(t.affiliationSummaryCheck,r,e)},expression:"affiliationSummaryCheck[index]"}},[t._v("\n              "+t._s(e.first)+"("+t._s(e.second)+")\n            ")])],1)],1)}),t._v(" "),a("div",{staticClass:"apply-button"},[t.showOK(t.affiliationSummaryCheck,"affiliation")?a("el-button",{attrs:{round:""},on:{click:t.collectSearchWithin}},[t._v("\n            OK\n          ")]):t._e()],1)],2),t._v(" "),a("el-collapse-item",{attrs:{title:"Term",name:"4"}},[t._l(t.termSummary,function(e,r){return a("div",{key:r},[a("el-checkbox",{staticClass:"check-box",model:{value:t.termSummaryCheck[r],callback:function(e){t.$set(t.termSummaryCheck,r,e)},expression:"termSummaryCheck[index]"}},[t._v("\n            "+t._s(e.first)+"("+t._s(e.second)+")\n          ")])],1)}),t._v(" "),a("div",{staticClass:"apply-button"},[t.showOK(t.termSummaryCheck,"term")?a("el-button",{attrs:{round:""},on:{click:t.collectSearchWithin}},[t._v("\n            OK\n          ")]):t._e()],1)],2)],1)],1)])},staticRenderFns:[]};var S=a("VU/8")(k,b,!1,function(t){a("mguW")},null,null).exports,w=(a("mvHQ"),a("mtWM")),x=a.n(w),A=a("zL8q"),E=a.n(A),P=function(t,e){return x()({method:"get",data:e,transformRequest:[function(t){var e="";for(var a in t)e+=encodeURIComponent(a)+"="+encodeURIComponent(t[a])+"&";return e}],headers:{"Content-Type":"text/plain"},url:""+t})},T={name:"SearchRes",components:{"essay-search-result-card":C,"side-bar":S,search:u},created:function(){var t=this;m.$on("fuzzySearch",function(e){t.search_type=e.type,t.search_query=e.con,t.search_query=t.handleBlankSpace(t.search_query)})},mounted:function(){this.getFuzzySearchResult()},beforeDestroy:function(){m.$off("fuzzySearch")},data:function(){return{search_query:"",search_type:"",search_within_query:"",search_within_type:"",search_within_arguments:"",is_search_within:!1,search_result:null,has_result:!0,search_affiliation:"",summary_term:[],summary_author:[],summary_conference:[],summary_affiliation:[],current_page:0,page_size:10,search_page_number:100,advanced_query:null}},filters:{getValidItemsForCard:function(t){var e=[],a="";return t.split(";").forEach(function(t){t.length>0&&"NA"!=t&&" NA"!=t&&a.indexOf(t)<0&&(a+=t,e.push(t))}),e.join(";")}},methods:{gotoMainpage:function(){this.$router.push({path:"/mainpage"})},handleCurrentChange:function(t){this.current_page=t,this.getNextPage()},commonSearch:function(t){this.search_type=t.type,this.search_query=t.con,this.search_query=this.handleBlankSpace(this.search_query),this.getFuzzySearchResult()},handleAdvancedSearch:function(t){this.search_within_type=t.type,this.search_within_query=t.con},processAdvancedSearch:function(t){this.advanced_query=t,this.is_search_within=!0,this.search_within_arguments="";var e="";this.advanced_query.conference.length>0&&this.advanced_query.conference.split(";").forEach(function(t){t.length>0&&(e+="refinements=conference:"+t+";")}),this.advanced_query.term.length>0&&this.advanced_query.term.split(";").forEach(function(t){t.length>0&&(e+="refinements=term:"+t+";")}),this.advanced_query.author.length>0&&this.advanced_query.author.split(";").forEach(function(t){t.length>0&&(e+="refinements=author:"+t+";")}),this.advanced_query.year.length>0&&this.advanced_query.year.split(";").forEach(function(t){t.length>0&&(e+="refinements=year:"+t+";")}),this.advanced_query.affiliation.length>0&&this.advanced_query.affiliation.split(";").forEach(function(t){t.length>0&&(e+="refinements=affiliation:"+t+";")}),this.search_within_arguments=e.trim().split(";").join("&").substring(0,e.length-1),this.getAdvancedSearchResult()},getFuzzySearchResult:function(){var t=this;this.is_search_within=!1,this.search_result=null,this.current_page=0,P("/api/query/paper/list?query="+this.search_query+"&returnFacets="+this.search_type).then(function(e){t.search_result=e.data.papers,t.search_page_number=e.data.itemCnt,t.search_page_number>0?(t.getSummary(),t.has_result=!0):(t.has_result=!1,t.summary_author=[],t.summary_affiliation=[],t.summary_conference=[],t.summary_term=[])})},getSummary:function(){var t=this;P("/api/query/paper/summary").then(function(e){t.summary_term=t.getValidItemsForSideBar(e.data.term),t.summary_author=t.getValidItemsForSideBar(e.data.author),t.summary_conference=t.getValidItemsForSideBar(e.data.conference),t.summary_affiliation=t.getValidItemsForSideBar(e.data.affiliation)})},getAdvancedSearchResult:function(){var t=this;this.is_search_within=!0,this.current_page=0,this.search_result=null,P("/api/query/paper/refine?"+this.search_within_arguments).then(function(e){t.search_result=e.data.papers,t.search_page_number=e.data.itemCnt,t.search_page_number>0?t.has_result=!0:(t.has_result=!1,t.summary_author=[],t.summary_affiliation=[],t.summary_conference=[],t.summary_term=[])})},getNextPage:function(){var t=this;this.search_result=null,this.is_search_within?P("/api/query/paper/refine?"+this.search_within_arguments+"&pageNum="+this.current_page).then(function(e){t.search_result=e.data.papers}):P("/api/query/paper/list?query="+this.search_query+"&returnFacets="+this.search_type+"&pageNum="+this.current_page).then(function(e){t.search_result=e.data.papers})},getValidItemsForSideBar:function(t){return t.filter(function(t){return t.first.length>0&&"NA"!=t.first&&" NA"!=t.first})},handleBlankSpace:function(t){return t.split(" ").join("%20")}}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",{staticClass:"main"},[a("el-header",{staticStyle:{height:"35vh","min-height":"270px",padding:"0"},attrs:{id:"header"}},[a("div",{attrs:{id:"overlay"}},[a("div",{attrs:{id:"o-content"}},[a("h1",{staticClass:"title",on:{click:t.gotoMainpage}},[t._v("\n          OASIS\n        ")]),t._v(" "),a("search",{on:{paperSearch:t.commonSearch}})],1)])]),t._v(" "),a("el-row",{staticStyle:{margin:"3% 2%"},attrs:{gutter:20,id:"content"}},[a("el-col",{attrs:{span:6,id:"options"}},[a("div",{staticStyle:{height:"100px"}},[a("side-bar",{attrs:{authorSummary:t.summary_author,affiliationSummary:t.summary_affiliation,conferenceSummary:t.summary_conference,termSummary:t.summary_term},on:{advancedSearch:t.handleAdvancedSearch,searchWithin:t.processAdvancedSearch}})],1)]),t._v(" "),a("el-col",{attrs:{span:18,id:"res"}},[t.has_result?t._e():a("div",{staticClass:"no-result-hint"},[t._v("No result!")]),t._v(" "),a("div",{staticClass:"result-card"},t._l(t.search_result,function(e,r){return a("essay-search-result-card",{key:r,attrs:{title:e.title,authors:t._f("getValidItemsForCard")(e.authors),conference:t._f("getValidItemsForCard")(e.conference),year:e.year.toString(),times:e.citationCount.toString(),terms:t._f("getValidItemsForCard")(e.terms),affiliation:t._f("getValidItemsForCard")(e.affiliations),essayLink:e.pdfLink}})}),1),t._v(" "),null!=t.search_result&&t.search_result.length>0?a("div",{staticClass:"page-pagination"},[a("el-pagination",{attrs:{layout:"prev,pager,next",total:t.search_page_number,"current-page":t.current_page,"page-size":t.page_size},on:{"current-change":t.handleCurrentChange}})],1):t._e()])],1)],1)},staticRenderFns:[]};var D=a("VU/8")(T,O,!1,function(t){a("t6bf")},null,null).exports,Y=a("//Fk"),q=a.n(Y),F=(a("Qbfk"),a("Icdr")),$=a.n(F),V={name:"Ranking",components:{MyHeader:l},data:function(){var t=this,e=["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"];return this.yearSettings={area:!0},this.yearExtend={textStyle:{color:"white",fontSize:"10"},color:["#5682c8"],animation:!0,series:{label:{normal:{show:!0}},lineStyle:{width:"3"},areaStyle:{color:new $.a.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"#345379"},{offset:.2,color:"#59c4e6"},{offset:.4,color:"#9179cb"},{offset:.6,color:"#edafda"},{offset:.8,color:"#a5e7f0"},{offset:1,color:"#ffa0dd"}])}}},this.auSettings={stack:{Papers:["Paper1","Paper2","Paper3","Paper4","Paper5"]}},this.auExtend={textStyle:{color:"white"},color:e,series:{emphasis:{itemStyle:{barBorderWidth:1,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.5)"}}},tooltip:{trigger:"item",enterable:"ture",confine:"ture",padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,extraCssText:"width:25em; white-space:pre-wrap",formatter:function(e){var a=e.dataIndex,r=e.componentIndex;return'<div style="border-bottom: 1px solid rgba(255,255,255,.3);font-size: 22px;padding-bottom: 7px;margin-bottom: 7px">'+t.authors[a].papers[r].title+'</div><div class="tool-content" style="font-size: 18px; text-align:left;"><strong>Author: </strong>'+t.authors[a].papers[r].authors+"<br /><strong>Year: </strong>"+t.authors[a].papers[r].year+"<br /><strong>Citation: </strong>"+t.authors[a].papers[r].citationCount+"</div>"}}},this.auEvents={click:function(e){t.auClick(e)}},this.paperSettings={radius:["80%","95%"],offsetY:"50%",label:{show:!1}},this.paperExtend={tooltip:{trigger:"item",enterable:"ture",confine:"ture",padding:10,backgroundColor:"#222",borderColor:"#777",borderWidth:1,extraCssText:"width:25em; white-space:pre-wrap",formatter:function(e){var a=e.dataIndex;return'<div style="border-bottom: 1px solid rgba(255,255,255,.3);font-size: 22px;padding-bottom: 7px;margin-bottom: 7px">'+t.paperData.rows[a].title+'</div><div class="tool-content"style="font-size: 18px; text-align:left;"><strong>Author: </strong>'+t.paperData.rows[a].authors+"<br /><strong>Year: </strong>"+t.paperData.rows[a].year+"<br /><strong>Citation:</strong>"+t.paperData.rows[a].citationCount+"</div>"}},color:e},this.paperEvents={click:function(e){t.paClick(e)}},this.termSettings={color:["#6aa9ff","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3","#b884b3","#74e3ff","#ddb4ff","#ff68b5","#85e3d7","#5aaef0","#fd94d1"]},this.termExtend={series:{width:"100%",height:"100%",gridSize:10}},{yearData:{columns:["year","count"],rows:[]},auData:{columns:["Author","Paper1","Paper2","Paper3","Paper4","Paper5"],rows:[]},paperData:{columns:["title","citationCount"],rows:[]},termData:{columns:["term","count"],rows:[]},load1:!0,load2:!0,load3:!0,load4:!0,authors:[],termY:"2019",options:[{value:"2013",label:"2013"},{value:"2015",label:"2015"},{value:"2016",label:"2016"},{value:"2017",label:"2017"},{value:"2018",label:"2018"},{value:"2019",label:"2019"}],keywords:""}},mounted:function(){document.body.scrollTop=0,document.documentElement.scrollTop=0,this.initChart()},beforeDestroy:function(){m.$emit("fuzzySearch",{type:"All",con:this.keywords})},methods:{initChart:function(){this.getFir(),this.getSec(),this.getTrd()},getFir:function(){var t=this;P("/api/report/paper/trend/year").then(function(e){t.yearData.rows=e.data,t.load1=!1,console.log("fin 1")})},getSec:function(){var t=this;P("/api/report/author/rank/paper_cnt").then(function(e){for(var a=[],r=0;r<10;r++)a.push({Author:e.data[r].author,Paper1:e.data[r].papers[0].citationCount,Paper2:e.data[r].papers[1].citationCount,Paper3:e.data[r].papers[2].citationCount,Paper4:e.data[r].papers[3].citationCount,Paper5:e.data[r].papers[4].citationCount});t.auData.rows=a,t.authors=e.data,t.load2=!1})},getTrd:function(){var t=this,e=P("/api/report/paper/rank/citation"),a=P("/api/report/wdcld/year?year=2019");q.a.all([e,a]).then(function(e){console.log(e[0].data,e[1].data),t.paperData.rows=e[0].data,t.load3=!1,t.termData.rows=e[1].data.slice(1,301),t.load4=!1,console.log("fin 2")})},search:function(t){this.keywords=t.value,this.$router.push("result")},auClick:function(t){this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});window.location.href=this.authors[t.dataIndex].papers[t.componentIndex].pdfLink},paClick:function(t){this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.7)"});window.location.href=this.paperData.rows[t.dataIndex].pdfLink},getNew:function(){var t=this;console.log("new!!",this.termY),this.load4=!0,P("/api/report/wdcld/year?year="+this.termY).then(function(e){2019==t.termY?t.termData.rows=e.data.slice(1,301):t.termData.rows=e.data.slice(0,300),t.load4=!1})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-container",[a("el-header",{staticStyle:{padding:"0 0"}},[a("MyHeader",{on:{search:t.search}})],1),t._v(" "),a("el-main",{staticStyle:{padding:"0 5%"}},[a("el-row",{staticClass:"line-ranking ranking"},[a("h1",[a("strong",[t._v("Papers ")]),t._v("   in Last 6    "),a("strong",[t._v(" Years")])]),t._v(" "),a("div",{staticClass:"chart"},[a("ve-line",{attrs:{data:t.yearData,settings:t.yearSettings,extend:t.yearExtend,loading:t.load1,height:"100%"}})],1)]),t._v(" "),a("el-row",{staticClass:"bar-ranking ranking",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"name"},[a("h1",[a("strong",[t._v("Top 10")]),a("br"),t._v(" authors with papers cite")])])]),t._v(" "),a("el-col",{attrs:{span:16,offset:1}},[a("div",{staticClass:"chart"},[a("ve-histogram",{attrs:{data:t.auData,settings:t.auSettings,events:t.auEvents,height:"100%",loading:t.load2,extend:t.auExtend}})],1)])],1),t._v(" "),a("el-row",{staticClass:"paper-term-ranking ranking",attrs:{type:"flex",align:"middle"}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"chart",attrs:{id:"ring"}},[a("ve-ring",{attrs:{id:"v-ring",data:t.paperData,settings:t.paperSettings,extend:t.paperExtend,events:t.paperEvents,loading:t.load3,"legend-visible":!1,height:"100%"}},[a("h2",{attrs:{id:"ring-name"}},[a("strong",[t._v("Top 10")]),a("br"),t._v(" authors with papers cite "),a("br"),a("em",[t._v("↖click the ring for more↘")])])])],1)]),t._v(" "),a("el-col",{attrs:{span:11,display:"flex"}},[a("h2",[a("strong",[t._v("HOOOOOOOOOOT！ ")]),a("br"),t._v("terms in  "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.termY,expression:"termY"}],attrs:{id:"year-select"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.termY=e.target.multiple?a:a[0]},t.getNew]}},t._l(t.options,function(t){return a("option",{key:t.value,attrs:{label:t.label},domProps:{value:t.value}})}),0)]),t._v(" "),a("div",{staticClass:"chart",attrs:{id:"word-cloud"}},[a("ve-wordcloud",{attrs:{data:t.termData,settings:t.termSettings,extend:t.termExtend,loading:t.load4}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};var N=a("VU/8")(V,z,!1,function(t){a("ujo4")},"data-v-743dad15",null).exports,R={name:"Copy",components:{MyHeader:l},data:function(){this.authorSettings={stack:{Papers:["Paper1","Paper2","Paper3","Paper4","Paper5"]}},this.authorExtend={textStyle:{color:"white"},color:["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"]},this.paperSettings={stack:{Papers:["Paper1","Paper2","Paper3","Paper4","Paper5"]}},this.paperExtend={textStyle:{color:"white"},color:["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"]},this.xxxExtend={textStyle:{color:"white"},color:["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347"]};var t=this;return this.chartEvents={click:function(e){t.getClick(e)},dblclick:function(e){t.name=e.type,console.log("db")}},{chartData:{columns:["Author","Paper1","Paper2","Paper3","Paper4","Paper5"],rows:[]}}},mounted:function(){this.initChart()},methods:{initChart:function(){console.log(this.chartData);for(var t=0;t<10;t++)this.chartData.rows.push({Author:"Smith.J",Paper1:Math.ceil(1e3*Math.random()),Paper2:Math.ceil(1e3*Math.random()),Paper3:Math.ceil(1e3*Math.random()),Paper4:Math.ceil(1e3*Math.random()),Paper5:Math.ceil(1e3*Math.random())})},search:function(t){console.log(t)},getClick:function(t){console.log("in get",t)}}},W={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("el-container",[a("el-header",{staticStyle:{padding:"0 0"}},[a("MyHeader",{on:{search:t.search}})],1),t._v(" "),a("el-main",[a("el-row",{staticClass:"bar-ranking"},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"name"},[a("h1",[t._v("Top 10 authors with papers cite in 2019")])])]),t._v(" "),a("el-col",{attrs:{span:16,offset:2}},[a("div",{staticClass:"chart"},[a("ve-histogram",{staticClass:"bar-chart",attrs:{data:t.chartData,settings:t.authorSettings,events:t.chartEvents,height:"100%",extend:t.authorExtend}})],1)])],1),t._v(" "),a("el-row",{staticClass:"bar-ranking"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"name"},[a("h1",[t._v("Top 10 organizations with papers cite")])])]),t._v(" "),a("el-col",{attrs:{span:14,offset:2}},[a("div",{staticClass:"chart"},[a("ve-histogram",{staticClass:"bar-chart",attrs:{data:t.chartData,settings:t.paperSettings,events:t.chartEvents,height:"100%",extend:t.paperExtend}})],1)])],1),t._v(" "),a("el-row",{staticClass:"bar-ranking"},[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"name"},[a("h1",[t._v("Top 10 xxx with papers cite")])])]),t._v(" "),a("el-col",{attrs:{span:14,offset:2}},[a("div",{staticClass:"chart"},[a("ve-histogram",{staticClass:"bar-chart",attrs:{data:t.chartData,settings:t.paperSettings,events:t.chartEvents,height:"100%",extend:t.xxxExtend}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};a("VU/8")(R,W,!1,function(t){a("+3d2")},"data-v-f3cb1b8e",null).exports;r.default.use(s.a);var I=new s.a({scrollBehavior:function(t,e,a){return a||{x:0,y:0}},routes:[{path:"/",redirect:"/mainpage"},{path:"/mainpage",name:"MainPage",component:_},{path:"/result",name:"SearchRes",component:D},{path:"/ranking",name:"Ranking",component:N}]}),M=(a("tvR6"),a("vO7p")),B=a.n(M);r.default.use(B.a),r.default.use(E.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:I,components:{App:i},template:"<App/>"})},Qbfk:function(t,e){},Tcjj:function(t,e){},ZhRt:function(t,e){},lgON:function(t,e){},mguW:function(t,e){},t6bf:function(t,e){},tvR6:function(t,e){},ujo4:function(t,e){},wC4V:function(t,e){},wlu6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6eb6968fa1587775a687.js.map